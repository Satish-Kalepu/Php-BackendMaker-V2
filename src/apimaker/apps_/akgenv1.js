const akgenv1 = { data(){ return { } }, props: ['datafor', 'v','datavar', 'vars', 'refname'], mounted: function(){ this.init(); }, watch: { v: { handler: function(){ this.$emit("updated"); }, deep:true } }, methods: { s2_ooooooohce: function(s2_vvvvvvvvvv){ if( typeof(s2_vvvvvvvvvv)=="object" ){ console.log( JSON.stringify(s2_vvvvvvvvvv,null,4) ); }else{ console.log( s2_vvvvvvvvvv ); } }, init: function(){ var vip = this.$root.current_ip + '/32'; if( 'stage' in this.v['data'] ){ if( this.v['data']['stage'] == "initiate" ){ var d = new Date(); this.v['data'] = { "key": {"t": "T", "v": ""}, "use_ip": {"t": "T", "v": "UserIP"}, "ip": {"t": "T", "v": vip}, "expire_t": {"t": "T", "v": "At" },  "expire_m": {"t": "T", "v": "Minutes" },  "expire_p": {"t": "N", "v": "5" },  "expire": {"t": "TS", "v": parseInt(d.getTime()/1000) }, "output":{"t":"T", "v":"keyResponse"}, "struct": { "status":{"t":"T"}, "access_key":{"t":"T"}, "error":{"t":"T"}, } }; delete( this.v['data']['stage'] );  } } }, s2_kkkcabllac: function( c ){ if( c == "s2_tes_amehcs" ){ var k = Object.keys(this.v['data']['schema']['fields']['v']); var v = []; for(var i=0;i<k.length;i++){ v.push({ "f": { "t": "T", "v": k[i] }, "v": { "t": "T", "v": "" }, }); } this.v['data']['set']['v'] = v;  }else{ console.log("Callback: " + c + " not defined!"); } }, }, template: `<div style="border-left:1px solid orange; padding-left:10px;" > <template v-if="'key' in v['data']&&'expire' in v['data']" > <div> <div style="display:flex; column-gap:10px; margin-bottom:5px; " > <div>Access Key</div> <div> <inputtextbox2 v-bind:datafor="datafor" v-bind:v="v['data']['key']" types="T,V" v-bind:datavar="datavar+':data:key'" v-bind:vars="vars"></inputtextbox2> </div> </div> <div style="display:flex; column-gap:10px; margin-bottom:5px; " > <div>IP Check</div> <div> <div title="Boolean" data-type="dropdown" v-bind:data-for="datafor" data-list="list" data-list-values="UserIP,FixedIP,AnyIP" v-bind:data-var="datavar+':data:use_ip:v'"  >{{ v['data']['use_ip']['v'] }}</div> </div> </div> <div v-if="v['data']['use_ip']['v']=='FixedIP'" style="display:flex; column-gap:10px; margin-bottom:5px; "  > <div>IP</div> <div> <inputtextbox2 v-bind:datafor="datafor" v-bind:v="v['data']['ip']" types="T,V" v-bind:datavar="datavar+':data:ip'" v-bind:vars="vars"></inputtextbox2> </div> </div> <div style="display:flex; column-gap:10px; margin-bottom:5px; " > <div>Expire</div> <div style="display:flex; column-gap:5px;"> <div title="Select type" data-type="dropdown" v-bind:data-for="datafor" data-list="list" data-list-values="At,In" v-bind:data-var="datavar+':data:expire_t:v'"  >{{ v['data']['expire_t']['v'] }}</div> <template  v-if="v['data']['expire_t']['v']=='In'"  > <div title="Select type" data-type="dropdown" v-bind:data-for="datafor" data-list="list" data-list-values="Minutes,Hours,Days" v-bind:data-var="datavar+':data:expire_m:v'"  >{{ v['data']['expire_m']['v'] }}</div>  <inputtextbox2 v-bind:datafor="datafor" v-bind:v="v['data']['expire_p']" types="N" v-bind:datavar="datavar+':data:expire_p'" v-bind:vars="vars"></inputtextbox2> </template> <template  v-if="v['data']['expire_t']['v']=='At'"  > <div>Timestamp</div> <inputtextbox2 v-bind:datafor="datafor" v-bind:v="v['data']['expire']" types="TS,V" v-bind:datavar="datavar+':data:expire'" v-bind:vars="vars"></inputtextbox2> </template> </div> </div> <div style="display:flex; column-gap:10px; margin-bottom:5px;" > <div>Output</div> <div> <div title="Output Variable" class="editable" v-bind:data-for="datafor" v-bind:data-var="datavar+':data:output:v'"><div contenteditable spellcheck="false" data-type="editable" v-bind:data-for="datafor" v-bind:data-var="datavar+':data:output:v'" data-allow="T" >{{ v['data']['output']['v'] }}</div></div> </div> </div> </div> </template> </div>` };