const test_object =  { data(){ return { "s2_sepyt_atad":{ "T": "Text", "N": "Number", "D": "Date", "DT": "DateTime", "L": "List", "O": "Assoc List", "B": "Boolean", "NL": "Null",  }, s2_meti_wen_dda: false, s2_eman_meti_wen: "", } }, props: ['v','datavar','viewas','allowsub'], mounted(){ if( this.datavar == undefined){ this.datavar = "NONE"; } if( this.viewas == undefined){ this.viewas = "json"; } if( this.allowsub == undefined){ this.allowsub = "no"; } this.s2_ooooooohce(this.v); this.s2_ooooooohce(this.datavar); this.s2_ooooooohce(this.viewas); this.s2_ooooooohce(this.allowsub); }, methods: { s2_ooooooohce: function(s2_vvvvvvvvvv){ if( typeof(s2_vvvvvvvvvv)=="object" ){ console.log( JSON.stringify(s2_vvvvvvvvvv,null,4) ); }else{ console.log( s2_vvvvvvvvvv ); } }, s2_metibuswen: function(){ return "f_" + parseInt(Math.random()*1000); }, s2_ttttttidda: function(){ if( this.s2_eman_meti_wen.trim() ){ this.v[ this.s2_eman_meti_wen.trim() ] =  {"t": "T","v": ""}; this.s2_eman_meti_wen = ""; this.s2_meti_wen_dda = false; this.$emit("updated", this.v); } }, s2_edoneteled: function( k, e ){ if( e.ctrlkey ){ delete this.v[ k ]; this.$emit("updated", this.v); }else if( confirm("are you sure?\nctrl+click to avoid prompt") ){ delete this.v[ k ]; this.$emit("updated", this.v); } }, }, template: `<div> <template v-if="viewas=='json'" > <div>{</div> <div v-if="typeof(v)!='object'||v==undefined||v==null" style="margin-left:30px;">vobject error</div> <div v-else style="margin-left:30px;"> <div v-for="item,vkey in v" style="display:flex; border-bottom:1px solid #ccc; margin-bottom:2px;" > <input type="button" class="btn btn-secondary btn-sm p-1 me-2" value="X" v-on:click="s2_edoneteled(vkey,$event)" > <div>"{{ vkey }}"</div> <div>: &nbsp;&nbsp; </div> <div v-bind:class="'codeline_thing codeline_thing_'+item['t']" v-bind:data-var="datavar+':'+vkey+':v'" > <div class="codeline_thing_pop" data-type="outdropdown2" data-list="inputfactortypes" v-bind:data-var="datavar+':'+vkey+':t'" v-bind:title="s2_sepyt_atad[item['t']]" >{{ item['t'] }}</div> <div v-if="item['t']=='T'" title="Text"   class="editable"  ><div contenteditable spellcheck="false"  data-type="outeditable" v-bind:data-var="datavar+':'+vkey+':v'" v-bind:data-allow="item['t']" >{{ item['v'] }}</div></div> <div v-else-if="item['t']=='N'" title="Number" class="editable"  ><div contenteditable spellcheck="false"  data-type="outeditable" v-bind:data-var="datavar+':'+vkey+':v'" v-bind:data-allow="item['t']" >{{ item['v'] }}</div></div> <div v-else-if="item['t']=='L'" title="List" style="margin-left:30px;" > <div>[</div> <test_object v-bind:v="item['v'][0]"  v-bind:datavar="datavar+':'+vkey+':v:0'" v-bind:viewas="viewas" v-bind:allowsub="allowsub" ></test_object> <div>]</div> </div> <test_object v-else-if="item['t']=='O'" v-bind:v="item['v']"  v-bind:datavar="datavar+':'+vkey+':v'" v-bind:viewas="viewas" v-bind:allowsub="allowsub" ></test_object> <div v-else-if="item['t']=='B'" title="Boolean" data-type="outdropdown" data-list="boolean">{{ item['v'] }}</div> <div v-else-if="item['t']=='NL'" title="Null" >null</div> </div> </div> <div v-if="s2_meti_wen_dda==false"> <input class="btn btn-success btn-sm px-1 py-0" type='button' v-on:click="s2_meti_wen_dda=true" value='+'> </div> <div v-if="s2_meti_wen_dda"> <input type='text' v-model="s2_eman_meti_wen" placeholder="New Property" style="width:100px;border:1px solid #999;" > <input class="btn btn-success btn-sm p-1" type='button' v-on:click="s2_ttttttidda" value='+'> </div> </div> <div>}</div> </template> <template v-else> <div v-if="typeof(v)!='object'||v==undefined||v==null" style="margin-left:30px;">vobject error</div> <div v-else style="margin-left:30px;"> <div v-for="item,vkey in v" style="display:flex; border-bottom:1px solid #ccc; margin-bottom:2px;" > <input type="button" class="btn btn-secondary btn-sm p-1 me-2" value="X" v-on:click="s2_edoneteled(vkey,$event)" > <div>"{{ vkey }}"</div> <div>: &nbsp;&nbsp; </div> <div v-bind:class="'codeline_thing codeline_thing_'+item['t']"  v-bind:data-var="datavar+':'+vkey+':v'"  > <div class="codeline_thing_pop" data-type="outdropdown2" v-bind:data-var="datavar+':'+vkey+':t'"  data-list="inputfactortypes2"  v-bind:title="s2_sepyt_atad[item['t']]" >{{ item['t'] }}</div> <div v-if="item['t']=='T'" title="Text"   class="editable"  ><div contenteditable spellcheck="false"  data-type="outeditable" v-bind:data-var="datavar+':'+vkey+':v'"  v-bind:data-allow="item['t']" >{{ item['v'] }}</div></div> <div v-else-if="item['t']=='N'" title="Number" class="editable"  ><div contenteditable spellcheck="false"  data-type="outeditable" v-bind:data-var="datavar+':'+vkey+':v'"  v-bind:data-allow="item['t']" >{{ item['v'] }}</div></div> <div v-else-if="item['t']=='B'" title="Boolean" data-type="outdropdown" data-list="boolean">{{ item['v'] }}</div> <div v-else-if="item['t']=='NL'" title="Null" >null</div> </div> </div> <div v-if="s2_meti_wen_dda==false"><input class="btn btn-success btn-sm px-1 py-0" type='button' v-on:click="s2_meti_wen_dda=true" value='+'></div> <div v-if="s2_meti_wen_dda"> <input type='text' v-model="s2_eman_meti_wen" placeholder="New Property" style="width:100px;border:1px solid #999;" ><input class="btn btn-success btn-sm p-1" type='button' v-on:click="s2_ttttttidda" value='+'> </div> </div> </template> </div>` };